@{
    ViewBag.Title = "Quên Mật Khẩu";
    Layout = "~/Views/Shared/_LayoutDangNhap.cshtml";
}

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="info-box">
                <h2>Hướng Dẫn Đặt Mật Khẩu Hợp Lệ</h2>
                <p>Để tạo một mật khẩu mạnh và an toàn, bạn cần tuân thủ các quy tắc sau:</p>
                <ul>
                    <li>Mật khẩu cần có ít nhất 8 ký tự.</li>
                    <li>Mật khẩu cần chứa ít nhất một chữ hoa (A-Z).</li>
                    <li>Mật khẩu cần chứa ít nhất một chữ thường (a-z).</li>
                    <li>Mật khẩu cần chứa ít nhất một số (0-9).</li>
                    <li>Mật khẩu cần chứa ít nhất một ký tự đặc biệt (ví dụ: !#$%^&*).</li>
                </ul>
                <p>Ví dụ về một mật khẩu mạnh: <strong>Abc@1234</strong></p>
                <ul>
                    <li>Không sử dụng các thông tin cá nhân như tên, ngày sinh, hoặc số điện thoại.</li>
                    <li>Sử dụng một mật khẩu duy nhất cho mỗi tài khoản của bạn.</li>
                    <li>Thay đổi mật khẩu định kỳ.</li>
                    <li>Không chia sẻ mật khẩu của bạn với bất kỳ ai.</li>
                </ul>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-box">
                <h2 class="text-center">Quên Mật Khẩu</h2>
                @using (Html.BeginForm("QuenMatKhau", "Home", FormMethod.Post, new { @class = "form-horizontal" }))
                {
                    <div class="form-group">
                        @Html.Label("Số điện thoại", new { @class = "control-label" })
                        @Html.TextBox("phoneNumber", null, new { @class = "form-control", placeholder = "Nhập số điện thoại" })
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">Gửi</button>
                    </div>
                }
                @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
                {
                    <div class="alert alert-danger" role="alert">
                        @ViewBag.ErrorMessage
                    </div>
                }
                @if (ViewBag.StudentInfo != null)
                {
                    var student = ViewBag.StudentInfo;
                    <div class="student-info">
                        <h3>Thông tin sinh viên:</h3>
                        <p>Tên: @student.Name</p>
                        <p>Ngày sinh: @student.DateOfBirth</p>
                        <p>Lớp: @ViewBag.ClassName</p>
                    </div>

                    using (Html.BeginForm("DatLaiMatKhau", "Home", FormMethod.Post))
                    {
                        @Html.Hidden("userId", (int)ViewBag.UserId)
                        <div class="form-group">
                            @Html.Label("Mật khẩu mới")
                            @Html.Password("newPassword", null, new { @class = "form-control", placeholder = "Nhập mật khẩu mới" })
                        </div>
                        <div class="form-group">
                            @Html.Label("Xác nhận mật khẩu")
                            @Html.Password("confirmPassword", null, new { @class = "form-control", placeholder = "Xác nhận mật khẩu" })
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-block">Đặt lại mật khẩu</button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</div>

<style>
    .info-box, .form-box {
        padding: 30px;
        border: 1px solid #ccc;
        border-radius: 10px;
        background: #f9f9f9;
        margin-bottom: 30px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .form-horizontal .form-group {
        margin-right: 0;
        margin-left: 0;
        margin-bottom: 15px;
    }

    .btn-primary {
        background-color: #004085;
        border-color: #003769;
    }

        .btn-primary:hover {
            background-color: #003769;
            border-color: #003054;
        }

    .alert {
        margin-top: 20px;
    }
</style>
