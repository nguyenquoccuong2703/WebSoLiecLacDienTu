@model IEnumerable<WebApplication1.Models.ParentLeaveRequestViewModel>

@{
    ViewData["Title"] = "Danh Sách Đơn Xin Phép";
    Layout = "~/Views/Shared/_LayoutSoLienLacPhuHuynh.cshtml";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-center">Danh Sách Đơn Xin Phép của @ViewBag.StudentName</h2>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-md-12">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Học Sinh</th>
                        <th>Lớp</th>
                        <th>Lý Do</th>
                        <th>Ngày Nộp</th>
                        <th>Trạng Thái</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Any())
                    {
                        foreach (var request in Model)
                        {
                            <tr>
                                <td>@request.StudentName</td>
                                <td>@request.ClassName</td>
                                <td>@request.Reason</td>
                                <td>@(request.RequestDate is DateTime ? ((DateTime)request.RequestDate).ToString("dd/MM/yyyy") : request.RequestDate.ToString())</td>
                                <td>@request.ApprovalStatus</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5" class="text-center">Không có đơn xin phép nào.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
